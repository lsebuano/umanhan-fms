@page "/authentication/{action}"
@using System.Text
@using System.Net.Http.Headers
@using System.Text.Json
@using System.Text.Json.Serialization
@inject NavigationManager NavigationManager
@inject WebAppSetting Settings

<RemoteAuthenticatorView Action="@Action">
    <LogOut>
        @{
            // Use the hosted UI domain with /logout endpoint
            var cognitoLogoutUrl = Settings.LogoutUrl;
            //Console.WriteLine($"Authentication:Cognito Logout URL: {cognitoLogoutUrl}");
            NavigationManager.NavigateTo(cognitoLogoutUrl, true);
        }
    </LogOut>
</RemoteAuthenticatorView>

@code {

    [Parameter] public string? Action { get; set; }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        //Console.WriteLine($"Authentication:OnParametersSet:action: {Action}");
    }

}
